<html manifest="maktab.appcache">
<head>
<title>Maktabatullah Maktaba Jibreel Advance Search Engine with Regular expression</title>
<meta name="Description" content="Maktabatullah regex(regular expression) searching engine for Maktaba Jibreel Ù…Ú©ØªØ¨Û Ø¬Ø¨Ø±ÛŒÙ„ Ø³Ø±Ú† (ØªÙ„Ø§Ø´)">
<meta name="Keywords" content="Maktabatullah,Fatawa and fiqha search,maktaba jibreel search engine,islamic search engine,fatwa search,fatawa' fatwa and fiqha advance with regex search engine">
<script src="jquery.min.js"></script>
<meta content="text/html; charset=utf-8" http-equiv=Content-Type>
<script src="localforage.js"></script>
<link rel="icon" type="image/ico" href="icon.png" />
<style>
.jml {
    display: inline-block;
    font-family: jameel noori nastaleeq;
    word-spacing: 4px;
    background: #54b9544d;
    padding-left: 4px !important;
    padding-right: 4px;
}
.hidden{
	display:none;
}
#txt,#txtR{
	font-size:120%;
	text-align:center;
}
#txt{
    width: 50%;
    height: 48px;
    margin-left: 9px;
}
.theQ {
	font-size:22px;
	background: #c8e9be;
	display: inline-block;
	width: 100%;
	text-align: center;
	border-bottom-left-radius: 24px;
	border-bottom-right-radius: 24px;
	margin-top: -40px;
	border-bottom: 1px solid red;
	border-left: 1px solid red;
	border-right: 1px solid red;
	font-family: 'Amiri' !important;
}

span.ayah-controls {
    position: relative;
    top: -37px;
}
button.next-ayah {
    margin-right: -1px !important;
}
p {
    margin-top: -16px !important;
    padding-right: 15px;
    padding-left: 17px;
    border-radius: 14px;
    word-spacing: 2px;
    font-size: 19px;
    font-family: jameel noori nastaleeq;
    border: 1px solid #ff0606;
	 background: #f0ececb3;
	 <--! box-shadow: 0px -5px 9px; -->
}

#div {
	margin-top: 22px;
	direction: rtl;
	margin-right: 8px;
}
#div a {
    text-decoration: none !important;
}
#searchT {
	direction: rtl;
		word-break:keep-all;
		display:none !important
}

* {
	transition: all .5s;
}

input {
	background: rgba(0, 200, 0, 0.5) none repeat scroll 0 0;
	box-shadow: 0 0 8px rgba(0, 0, 0, 0.1) inset, 0 0 16px rgba(0, 0, 0, 0.1);
}

Label, legend {
	display: block;
	margin-left: 3px;
	padding-top: 2px;
	text-shadow: 2px 2px 3px rgba(150, 150, 150, 0.75);
	font-family: Verdana, Geneva, sans-serif;
	font-size: .9em;
}
#cnt {
    position: absolute;
    width: 96%;
    left: 1%;
}
.st {
	background: yellow;
	text-decoration: none !important;
}

.inline, legend {
	display: inline-block;
	padding: 0px !important;
	margin: 0px;
}

fieldset {
	direction: rtl !important;
	padding: 0px !important;
}

legend {
	border-bottom: 5px solid #009;
	tex-align: center;
	width: 99.5%;
	text-shadow: 2px 2px 3px rgba(150, 150, 150, 0.75);
	font-family: Verdana, Geneva, sans-serif;
	font-size: 1.4em;
	border-top: 2px solid #009;
	border-left: 2px solid #009;
	border-right: 2px solid #009;
	border-radius: 10px;
	-webkit-box-shadow: 4px 4px 5px rgba(50, 50, 50, 0.75);
	-moz-box-shadow: 4px 4px 5px rgba(50, 50, 50, 0.75);
	box-shadow: 4px 4px 5px rgba(50, 50, 50, 0.75);
	padding: 3px;

}

fieldset {
    font-family: Jameel Noori Nastaleeq;
    border: 2px solid #009;
    -webkit-border-radius: 10px;
    -moz-border-radius: 10px;
    border-radius: 10px;
    -webkit-box-shadow: 4px 4px 5px rgba(50, 50, 50, 0.75);
    -moz-box-shadow: 4px 4px 5px rgba(50, 50, 50, 0.75);
    box-shadow: 4px 4px 5px rgba(50, 50, 50, 0.75);
    margin-bottom: 12px;
    margin-top: 9px;
}

::placeholder {
	color: red;
	opacity: 1 !important;
	font-size: 120% !important;
}

#hrf {
	color: blue;
	cursor: pointer;
	padding-left:6px;
	font-weight:bold;
	border-bottom: 1px dotted #605252;
}

.chkbb {
    border: 1px solid #605555 !important;
    padding-left: 14 !important;
    cursor: pointer !important;
    background: rgba(9, 3, 4, .1);
    box-shadow: 5px 2px 8px;
    padding-right: 14px;
    border-radius: 20px;
    margin-left: -10;
    background: #e6dddd;
}

#shC {
    cursor: pointer;
    font-size: 13;
    font: bold !important;
    border-radius: 16px;
    background: #09ef09;
    top: -3px;
    position: relative;
}

@media screen and (max-width: 1100px) {
	#div {
		width: 100% !important;
		 margin-top: 23px !important;
	}
	.theQ {
		font-size: 4.5vw !important;
	}
	::placeholder {
			color: red;
			font-weight: normal !important;
			opacity: 1 !important;
			font-size: 90% !important;
		}
	#div {
    margin-top: 5vw !important;
	}
	#txt{
		width:100% !important;
		height:80px !important;
		font-size:5vw !important;
		font-weight:bold;
		margin-left:0px !important;
		font-family: 'jameel noori nastaleeq',serif !important;
		word-spacing:1px;
	}
	p{
		font-size:4.5vw !important;
		margin-top: -4vw !important;
		text-align:center !important;
		font-family: 'jameel noori nastaleeq',serif !important;
		word-spacing:1px;
	}
	 #txtR	{
        display:none !important;
    }
	fieldset{
		display:none !important;
	}
	#searchT{
		display:none !important;
	}
	h3{
		display:none !important;
	}
}
#div > p{
	tex-align:right;
}

#hrf::before {
    content: "{ ";
}
#hrf::after {

    content: " }";

}
.theOther {
    font-size: 110%;
}
/* Hide Long Text
#div a:hover {
    overflow: visible;
    white-space: nowrap;
}
#div a {
    width: 250px;
    text-overflow: ellipsis;
    overflow: hidden;
    white-space: nowrap;
    display: inline-block;
}
*/
#hlp {
    position: relative;
    left: 87%;
    top: -2px;
}
#hlp a {
    font-size: 125%;
}
#theitems {
    padding: 5px;
    display: inline-block;
    font-size: 18px;
	 text-align:center;
}
#srch span {
    margin-right: 0.3%;
    position: relative;
}
.some:hover,.chkbb:hover {
    background: rgb(13, 233, 13) !important;
}
.some{
	  border: 1px solid #605555 !important;
    padding-left: 14 !important;
    cursor: pointer !important;
    background: rgba(9, 3, 4, .1);
    box-shadow: 5px 2px 8px;
    padding-right: 14px;
    border-radius: 20px;
    margin-left: -10;
    background: #e6dddd;
	 white-space:nowrap;
}
#srch-info {
    position: absolute !important;
    top: -40px;
    right: -0.4%;
    font-size: 23px;
    background: white;
    border: 1px solid black;
    border-bottom: none !important;
    border-radius: 7px;
    border-bottom-right-radius: 0px !important;
    padding-left: 14;
    padding-right: 12;
}
#srch {
    display: inline-block;
    position: relative;
    margin-right: 19px;
    border: 1px solid black;
    padding-right: 8px;
    padding-top: 2px;
    padding-bottom: 3px;
    width: 95%;
}

#quranReader {
    position: fixed !important;
    top: 2px !important;
    right: 10px !important;
    background: #09ef09 !important;
    border-radius: 50% !important;
    width: 50px !important;
    height: 50px !important;
    cursor: pointer !important;
    font-size: 24px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3) !important;
    border: none !important;
    padding-bottom: 15px !important;
}
 </style>
</head>

<body onload="searchTT();firstME();">
<h1 style="display:none">Allaahh Ho Akbar Ø§Ù„Ù„Û Ø§Ú©Ø¨Ø± </h1>
<div style="text-align:center;display:none" id="searchT">
</div>
<div id="demo">

    <fieldset>
        <legend dir="ltr">&nbsp; Options <span style="text-align: center" id="cnt">Quran Easy Search With Urdu Tarjuma</span>
		<span id="hlp"><a target="_blank" title="Ù…Ø¯Ø¯ Ø­Ø§ØµÙ„ Ú©Ø±Ù†Û’ Ú©ÛŒÙ„Ø¦Û’ ÛŒÛØ§Úº Ú©Ù„Ú© Ú©Ø±ÛŒÚº" onmouseover="document.getElementById('cnt').textContent='Ù…Ø¯Ø¯ Ø­Ø§ØµÙ„ Ú©Ø±Ù†Û’ Ú©ÛŒÙ„Ø¦Û’ ÛŒÛØ§Úº Ú©Ù„Ú© Ú©Ø±ÛŒÚº'" onmouseleave="document.getElementById('cnt').textContent='Quran Easy Search With Urdu Tarjuma'" href="https://www.youtube.com/playlist?list=PLo3sP1OMxs0gpMhm7PHuhZvWV38xV3XwH">?</a></span>
		</legend>
			<span id="theitems">
            <span class="chkbb"><input style="display:none" id="dpsrch" onclick="rns2()" checked="checked" type="checkbox">Ù…ØªØ±Ø§Ø¯Ù Ø§Ù„ÙØ§Ø¸ </span>
            <span class="chkbb"><input style="display:none" id="engsrch" onclick="clr();" type="checkbox">Ø§Ù†Ú¯Ø±ÛŒØ²ÛŒ Ø³Ø±Ú† </span>
            <span class="chkbb"><input style="display:none" id="ch" checked="" onclick="rns2()" type="checkbox">Ø§Ø¹Ø±Ø§Ø¨ Ú©Ùˆ Ù†Ø¸Ø± </span>
            <span class="chkbb" style="display:none"><input style="display:none" id="od" onclick="rns2()" type="checkbox">ØªØ±ØªÛŒØ¨ Ù†Ø¸Ø±Ø§Ù†Ø¯Ø§Ø² </span>
            <span class="chkbb" style="padding-left: 14px !important;"><button id="shC" value="Ø³Ø±Ú† Ø±Ø²Ù„Ù¹ Ø®ØªÙ…" style="display:none;" onclick="localStorage.removeItem('searchT')"><b>Ø³Ø±Ú† Ø±Ø²Ù„Ù¹ Ø®ØªÙ… </b></button><b>Ø³Ø±Ú† Ø±Ø²Ù„Ù¹ Ø®ØªÙ… </b></span>
            <div id="srch">
				<span id="srch-info">ØªÙ„Ø§Ø´ Ú©Ø§ Ø¯Ø§Ø¦Ø±Û Ù…Ù†ØªØ­Ø¨ Ú©Ø±ÛŒÚº</span>
				<span class="some" data-load="quran.AM" onclick="dataC(this)">Ù‚Ø±Ø¢Ù† ØªÙØ³ÛŒØ±</span>
				<span class="some" data-load="data.AM" onclick="dataC(this)" style="background:rgb(13, 233, 13)">ÙØªØ§ÙˆÛŒ ÙÙ‚Û</span>
				<span class="some" data-load="lughat.AM" onclick="dataC(this)">Ù„ØºØ§Øª</span>
				<span class="some" data-load="funoon.AM" onclick="dataC(this)">ÙÙ†ÙˆÙ† Ø¹ØµØ±ÛŒÛ</span>
				<span class="some" data-load="aqaid.AM" onclick="dataC(this)">Ø¹Ù‚Ø§Ø¦Ø¯ Ùˆ Ø¹Ù„Ù… Ø§Ù„Ú©Ù„Ø§Ù…</span>
				<span class="some" data-load="seerat.AM" onclick="dataC(this)">Ø³ÛŒØ±Øª</span>
				<span class="some" data-load="zuban.AM" onclick="dataC(this)">Ø²Ø¨Ø§Ù† Ùˆ  Ø§Ø¯Ø¨</span>
				<span class="some" data-load="rasail.AM" onclick="dataC(this)">Ø±Ø³Ø§Ø¦Ù„ Ø¬Ø±Ø§Ø¦Ø¯ Ù…Ø¬Ù„Ø§Øª Ø§Ø®Ø¨Ø§Ø±Ø§Øª</span>
				<span class="some" data-load="dua.AM" onclick="dataC(this)">Ø¯Ø¹Ø§Ø¦ÛŒÚº ÙˆØ¸Ø§Ø¦Ù Ùˆ Ø¹Ù…Ù„ÛŒØ§Øª</span>
				<span class="some" data-load="dNizami.AM" onclick="dataC(this)">Ø¯Ø±Ø³ Ù†Ø¸Ø§Ù…ÛŒ</span>
				<span class="some" data-load="tareekh.AM" onclick="dataC(this)">ØªØ§Ø±ÛŒØ® Ø¬ØºØ±Ø§ÙÛŒÛ Ùˆ Ù…Ù…Ø§Ù„Ú©</span>
				<span class="some" data-load="arabi.AM" onclick="dataC(this)">Ø§Ù„Ú©ØªØ¨ Ø§Ù„Ø¹Ø±Ø¨ÛŒÛƒ</span>
				<span class="some" data-load="Aslah.AM" onclick="dataC(this)">Ø§ØµÙ„Ø§Ø­ÛŒ Ú©ØªØ¨</span>
				<span class="some" data-load="khatmeNabuwat.AM" onclick="dataC(this)">Ø®ØªÙ… Ù†Ø¨ÙˆØª</span>
				<span class="some" data-load="deoband.AM" onclick="dataC(this)">Ø¯ÛŒÙˆØ¨Ù†Ø¯ Ø¢Ù Ù„Ø§Ø¦Ù†</span>
				<span class="some" data-load="jtr.AM" onclick="dataC(this)">ÙˆÛŒÚˆÛŒÙˆÚº Ø¬Ø§Ù…Ø¹Ûƒ Ø§Ù„Ø±Ø´ÛŒØ¯</span>
				<span class="some" data-load="All.AM" onclick="dataC(this)">ØªÙ…Ø§Ù… Ú©ØªØ¨</span>
				</div>
			</span>
    </fieldset>
	<div id="theInputs" style="margin-left: 9;">
    <input type="text" id="txtR" onclick="checka()" dir="auto" placeholder=" Filter ØªÙ„Ø§Ø´ Ú©Ùˆ ÙÙ„Ù¹Ø± Ú©Ø±ÛŒÚº" style="width: 48%; height: 48px;opacity:0.4" disabled="disabled" oninput="rns3()"/>
    <input type="text" id="txt" contextmenu="mymenu" dir="auto" autofocus placeholder=" Loading ØµØ±Ù Ú©Ú†Ú¾ Ø³ÛŒÚ©Ù†Úˆ Ø§Ù†ØªØ¸Ø§Ø±" style="opacity:0.7" onchange="rns2();searchTT();"/>
	<menu type="context" id="mymenu" class="searchTTE">
  </menu>
</menu>
	</div>
	<input type="hidden" id="txtH"/>
<h3 style="text-align:center;display:none;">Maktabatullah a maktab jibreel search. advance searching engine with regex(modified) support</h3>

   <div id="div"></div>
</div>
</body>
</html>
<script>
let tempQuranPage = -1;
let currentAyahIndex = -1;
let currentResults = [];
let quranPage = parseInt(localStorage.getItem("quranPage")) || 0;
let isQuranMode = false;

function theRand() {
    if (!Words || Words.length === 0) {
        document.getElementById("div").innerHTML = "<p style='text-align: center;'>ÚˆÛŒÙ¹Ø§ Ù„ÙˆÚˆ ÛÙˆ Ø±ÛØ§ ÛÛ’ØŒ Ø¨Ø±Ø§Û Ú©Ø±Ù… Ø§Ù†ØªØ¸Ø§Ø± Ú©Ø±ÛŒÚº</p>";
        return;
    }
    var theData = "";
    var max = Words.length;
    var selectedIndices = new Set();
    while (selectedIndices.size < 10 && selectedIndices.size < max) {
        let index = Math.floor(Math.random() * max);
        if (Words[index] && !selectedIndices.has(index)) {
            theData += "<p dir='auto'>" + Words[index] + "</p>";
            selectedIndices.add(index);
        }
    }
    if (selectedIndices.size === 0) {
        theData = "<p style='text-align: center;'>Ú©ÙˆØ¦ÛŒ Ø¯Ø±Ø³Øª Ø¢ÛŒØ§Øª Ù†ÛÛŒÚº Ù…Ù„ÛŒÚº</p>";
    }
    document.getElementById("div").innerHTML = theData;
    $("a").click(function (e) {
        e.preventDefault();
        var url = $(this).attr('href');
        if (/^https{0,1}:\/\/.*youtube.com/.test(url)) {
            popup("vid.html?video=" + $(this)[0].textContent + "&ytube=" + url);
        } else {
            popup(url);
        }
    });
}

function loadScript(url, callback) {
    var script = document.createElement("script");
    script.type = "text/javascript";
    if (script.readyState) {
        script.onreadystatechange = function () {
            if (script.readyState == "loaded" || script.readyState == "complete") {
                script.onreadystatechange = null;
                callback();
            }
        };
    } else {
        script.onload = function () {
            callback();
        };
    }
    script.src = url;
    document.getElementsByTagName("head")[0].appendChild(script);
}

loadScript("eng_ur_db.js", function () {});
loadScript("fatawa.js", function () {});

document.getElementsByClassName("chkbb")[4].oncontextmenu = function clrdb(e) {
    e.preventDefault();
    var c = confirm("Ú©ÛŒØ§ ØªÙ… ÚˆØ§Ù¹Ø§ Ø¯ÙˆØ¨Ø§Ø±Û Ø±ÛŒÙ„ÙˆÚˆ Ú©Ø±Ù†Ø§ Ú†Ø§ÛØªÛ’ ÛÙˆ");
    if (c) {
        localStorage.removeItem("db");
        location.reload();
    }
};

function dataC(elem) {
    if (!location.href.includes("Select")) return;
    $(".some").css("background", "rgb(214, 227, 214)");
    elem.style.background = "rgb(13, 233, 13)";
    var loada = elem.getAttribute("data-load");
    if (!localStorage.loada) {
        localStorage.loada = "1";
    }
    Words = "";
    if (!localStorage.loada.includes(loada)) {
        stringData = $.ajax({
            url: loada,
            async: false
        }).responseText;
        if (stringData.includes("--1--")) {
            Words = stringData.split("--1--");
        } else {
            Words = stringData.split("\n");
        }
        rns2();
        localforage.setItem(loada, stringData, function () {
            localStorage.loada += loada;
        });
    } else {
        localforage.getItem(loada).then(function (value) {
            stringData = value;
            if (stringData.includes("--1--")) {
                Words = stringData.split("--1--");
            } else {
                Words = stringData.split("\n");
            }
            rns2();
        }).catch(function (err) {});
    }
}

if (!location.href.includes("Select")) {
    document.getElementById("srch").style.display = "none";
    document.getElementById("theitems").style.display = "block";
    document.getElementById("theitems").style.padding = "7";
}

var Words, stringData;
if (!localStorage.db) {
    $.ajax({
        xhr: function () {
            var xhr = new window.XMLHttpRequest();
            xhr.addEventListener("progress", function (evt) {
                if (evt.lengthComputable) {
                    var percentComplete = evt.loaded / evt.total;
                    document.getElementById("div").innerHTML = "<p style=\"text-align:center;font-size:37px !important;width: 95%;margin: 0px !important;direction: ltr;color: #0008a5;\">" + Math.round(percentComplete * 100) + "% Completed Ø§Ù†ØªØ¸Ø§Ø± ÙØ±Ù…Ø§ÛŒØ¦Û’ ÛŒÛ Ù„ÙˆÚˆÙ†Ú¯ ØµØ±Ù Ù¾ÛÙ„ÛŒ Ø¨Ø§Ø± ÛÙˆÚ¯Ø§" + "</p>";
                    document.title = Math.round(percentComplete * 100) + "% Completed Ø§Ù†ØªØ¸Ø§Ø± ÙØ±Ù…Ø§ÛŒØ¦Û’ ÛŒÛ Ù„ÙˆÚˆÙ†Ú¯ ØµØ±Ù Ù¾ÛÙ„ÛŒ Ø¨Ø§Ø± ÛÙˆÚ¯Ø§";
                }
            }, false);
            return xhr;
        },
        url: "data.AM",
        dataType: "text",
        error: function () {
            location.reload();
        },
        success: function (data) {
            document.getElementById("txt").placeholder = " ØªÙ„Ø§Ø´ ÛŒÛØ§Úº Ø³Û’ Ø´Ø±ÙˆØ¹ Ú©Ø±ÛŒÚº";
            document.getElementById("txt").style.opacity = "1";
            document.getElementById("div").innerHTML = "";
            stringData = data;
            document.title = "Maktabatullah Maktaba Jibreel Advance Search Engine with Regular expression (Regex) Ù…Ú©ØªØ¨Û Ø¬Ø¨Ø±ÛŒÙ„ Ø³Ø±Ú†";
            if (stringData.includes("--1--")) {
                Words = stringData.split("--1--");
            } else {
                Words = stringData.split("\n");
            }
            localforage.setItem("Data", stringData, function () {
                localStorage.db = "2";
            });
            theRand();
        }
    });
} else if (localStorage.db == "1") {
    $.ajax({
        xhr: function () {
            var xhr = new window.XMLHttpRequest();
            xhr.addEventListener("progress", function (evt) {
                if (evt.lengthComputable) {
                    var percentComplete = evt.loaded / evt.total;
                    document.getElementById("div").innerHTML = "<p style=\"text-align:center;font-size:37px !important;width: 95%;margin: 0px !important;direction: ltr;color: #0008a5;\">" + Math.round(percentComplete * 100) + "% Completed Ø§Ù†ØªØ¸Ø§Ø± ÙØ±Ù…Ø§ÛŒØ¦Û’ ÛŒÛ Ù„ÙˆÚˆÙ†Ú¯ ØµØ±Ù Ù¾ÛÙ„ÛŒ Ø¨Ø§Ø± ÛÙˆÚ¯Ø§" + "</p>";
                    document.title = Math.round(percentComplete * 100) + "% Completed Ù†ÛŒØ§ ÚˆÛŒÙ¹Ø§ Ù„ÙˆÚˆ ÛÙˆØ±ÛØ§ ÛÛŒÚº";
                }
            }, false);
            return xhr;
        },
        url: "data.AM",
        dataType: "text",
        error: function () {
            location.reload();
        },
        success: function (data) {
            document.getElementById("txt").placeholder = " ØªÙ„Ø§Ø´ ÛŒÛØ§Úº Ø³Û’ Ø´Ø±ÙˆØ¹ Ú©Ø±ÛŒÚº";
            document.getElementById("txt").style.opacity = "1";
            document.getElementById("div").innerHTML = "";
            stringData = data;
            document.title = "Maktabatullah Maktaba Jibreel Advance Search Engine with Regular expression (Regex) Ù…Ú©ØªØ¨Û Ø¬Ø¨Ø±ÛŒÙ„ Ø³Ø±Ú†";
            if (stringData.includes("--1--")) {
                Words = stringData.split("--1--");
            } else {
                Words = stringData.split("\n");
            }
            localforage.setItem("Data", stringData, function () {
                localStorage.db = "2";
            });
            theRand();
        }
    });
} else {
    localforage.getItem('Data').then(function (value) {
        document.getElementById("txt").placeholder = " ØªÙ„Ø§Ø´ ÛŒÛØ§Úº Ø³Û’ Ø´Ø±ÙˆØ¹ Ú©Ø±ÛŒÚº";
        document.getElementById("txt").style.opacity = "1";
        stringData = value;
        if (stringData.includes("--1--")) {
            Words = stringData.split("--1--");
        } else {
            Words = stringData.split("\n");
        }
        theRand();
    }).catch(function (err) {});
}

window.onscroll = function () {
    if (window.scrollMaxY == window.scrollY && document.getElementById("more") != null) {
        document.getElementById("more").click();
    }
};

function excs(data) {
    var txtToR = "|" + data.textContent;
    var lclst = localStorage.searchT;
    var nData = lclst.replace(txtToR, "");
    localStorage.searchT = nData;
    var tt = "", tt2 = "";
    var dd = localStorage.getItem("searchT").split("|");
    for (let i = 0; i < dd.length; i++) {
        tt += "<span id='hrf' oncontextmenu='excs(this);return false;' onclick='$(\"#txt\")[0].value = this.innerHTML;rns2();'>" + dd[i] + "</span>&nbsp;";
        tt2 += "<menuitem oncontextmenu='excs(this);return false;' onclick='$(\"#txt\")[0].value = this.innerHTML;rns2();'>" + dd[i] + "</menuitem>";
    }
    $(".searchTTE")[0].innerHTML = tt2;
    $("#searchT")[0].innerHTML = tt;
}

function theFunc() {
    if ($("#div span[class='hidden']")[0] == undefined) {
        document.getElementById("more").style.display = "none";
    } else {
        $("#div span[class='hidden']")[0].setAttribute("class", "show");
    }
}

function filterItems(query) {
    query = new RegExp(query, "i");
    return Words.filter(function (el) {
        return query.test(el.replace(/[Ù‘ÙÙÙÙ‹ÙÙÙŒÙ’ÙÙ“Û¡Ù”Ù°Ø’]/g, ""));
    });
}

function clmm() {
    try {
        let inp = $("#txtH").val();
        if ($("#ch:checked").length > 0) {
            inp = inp.replace(/Ø¤|Ùˆ/g, "(Ùˆ|Ø¤)")
                .replace(/Ùƒ|Ú©/g, "(Ùƒ|Ú©)")
                .replace(/Ø¢|Ø§|Ø£|Ø¥/g, "(Ø¢|Ø§|Ø£|Ø¥)")
                .replace(/Ù‰|ÛŒ|ÙŠ/g, "(Ù‰|ÛŒ|ÙŠ)")
                .replace(/Û|Ú¾|Ø©|Ûƒ|Ù‡/g, "(Û|Ú¾|Ø©|Ûƒ|Ù‡)")
                .replace(/Û’/g, "(Û’|ÛŒ)")
                .replace(/Ù…/g, "(Ù…Ù°|Ù…)")
                .replace(/[Ù‘ÙÙÙÙ‹ÙÙÙŒÙ’ÙÙ“]/g, "");
        }
        let cnt = 0;
        let Worda = [];
        inp = inp.replaceAll("%", "|").replaceAll("@", "[").replaceAll("#", "]").replaceAll("!", ",");
        if (inp.includes("&")) {
            var j = inp.split("&");
            for (let i = 0; i < j.length; i++) {
                Worda.push(filterItems(j[i].split(".*")[0]));
            }
            Worda = Worda.join().split(",");
            Worda = [...new Set(Worda)];
        } else {
            Worda = filterItems(inp.split(".*")[0]);
            Worda = [...new Set(Worda)];
        }
        currentResults = Worda;
        currentAyahIndex = currentResults.length > 0 ? Words.indexOf(currentResults[0]) : -1;
        var theData = "";
        if (inp.includes("&")) {
            let inpv = inp.split("&");
            for (let j = 0; j < inpv.length; j++) {
                inp = inpv[j].split(".*");
                var mMatch = "";
                for (let i = 0; i < Worda.length; i++) {
                    let aWords = Worda[i];
                    let wordIndex = Words.indexOf(aWords);
                    for (let e = 0; e < inp.length; e++) {
                        let theRag = new RegExp(inp[e], "i");
                        if (theRag.test(aWords.replace(/.*\">(.*)<\/.*/g, "$1").replace(/[Ù‘ÙÙÙÙ‹ÙÙÙŒÙ’ÙÙ“Û¡Ù”Ù°Ø’]/g, ""))) {
                            mMatch = "true";
                            if (/^<a/.test(aWords)) {
                                let mWords = aWords.replace(/.*\">(.*)<\/.*/g, "$1").replace(aWords.replace(/[Ù‘ÙÙÙÙ‹ÙÙÙŒÙ’ÙÙ“Û¡Ù”Ù°Ø’]/g, "").match(theRag, "i")[0], "<font class='st'>" + aWords.replace(/[Ù‘ÙÙÙÙ‹ÙÙÙŒÙ’ÙÙ“Û¡Ù”Ù°Ø’]/g, "").match(theRag, "i")[0] + "</font>");
                                aWords = aWords.replace(/(.*\">)(.*)(<\/.*)/g, "$1" + mWords + "$3");
                            } else {
                                let mWords = aWords.replace(aWords.replace(/[Ù‘ÙÙÙÙ‹ÙÙÙŒÙ’ÙÙ“Û¡Ù”Ù°Ø’]/g, "").match(theRag, "i")[0], "<font class='st'>" + aWords.replace(/[Ù‘ÙÙÙÙ‹ÙÙÙŒÙ’ÙÙ“Û¡Ù”Ù°Ø’]/g, "").match(theRag, "i")[0] + "</font>");
                                aWords = mWords;
                            }
                        } else {
                            mMatchå½ˆ = "false";
                            break;
                        }
                    }
                    if (mMatch == "true") {
                        if (aWords.includes("&des")) {
                            aWords = "<span class='theQ'>" + aWords.replace(/&des/, "</span><br>");
                        } else if (aWords.includes("--2--")) {
                            aWords = "<span class='theQ'>" + aWords.replace("--2--", "</span><br>");
                        } else if (aWords.includes("ØªØ±Ø¬Ù…Û:")) {
                            aWords = "<span class='theQ'>" + aWords.replace("ØªØ±Ø¬Ù…Û:", "</span><br>");
                        }
                        cnt += 1;
                        $("#cnt")[0].innerHTML = "Total Result: " + cnt;
                        if (cnt % 101 == 0) {
                            theData += "[txtToSpan]<p dir='auto'>" + aWords + "</p>";
                        } else {
                            theData += `<p dir='auto' data-index='${wordIndex}'><span class='ayah-controls' style='float: left; margin-left: 10px;'><button class='prev-ayah' title='Ù¾Ú†Ú¾Ù„ÛŒ Ø¢ÛŒØª' style='background: #09ef09; border-radius: 5px; cursor: pointer; margin-right: 5px;'>Â«</button><button class='next-ayah' title='Ø§Ú¯Ù„ÛŒ Ø¢ÛŒØª' style='background: #09ef09; border-radius: 5px; cursor: pointer; margin-right: 5px;'>Â»</button><button class='read-here' title='ÛŒÛØ§Úº Ø³Û’ Ù¾Ú‘Ú¾ÛŒÚº' style='background: #ffeb3b; border-radius: 5px; cursor: pointer;'>ğŸ“–</button></span>${aWords}</p>`;
                        }
                    }
                }
            }
        } else {
            inp = inp.split(".*");
            var mMatch = "";
            for (let i = 0; i < Worda.length; i++) {
                let aWords = Worda[i];
                let wordIndex = Words.indexOf(aWords);
                for (let e = 0; e < inp.length; e++) {
                    let theRag = new RegExp(inp[e], "i");
                    if (theRag.test(aWords.replace(/.*\">(.*)<\/.*/g, "$1").replace(/[Ù‘ÙÙÙÙ‹ÙÙÙŒÙ’ÙÙ“Û¡Ù”Ù°Ø’]/g, ""))) {
                        mMatch = "true";
                        if (/^<a/.test(aWords)) {
                            let mWords = aWords.replace(/.*\">(.*)<\/.*/g, "$1").replace(aWords.replace(/[Ù‘ÙÙÙÙ‹ÙÙÙŒÙ’ÙÙ“Û¡Ù”Ù°Ø’]/g, "").match(theRag, "i")[0], "<font class='st'>" + aWords.replace(/[Ù‘ÙÙÙÙ‹ÙÙÙŒÙ’ÙÙ“Û¡Ù”Ù°Ø’]/g, "").match(theRag, "i")[0] + "</font>");
                            aWords = aWords.replace(/(.*\">)(.*)(<\/.*)/g, "$1" + mWords + "$3");
                        } else {
                            let mWords = aWords.replace(aWords.replace(/[Ù‘ÙÙÙÙ‹ÙÙÙŒÙ’ÙÙ“Û¡Ù”Ù°Ø’]/g, "").match(theRag, "i")[0], "<font class='st'>" + aWords.replace(/[Ù‘ÙÙÙÙ‹ÙÙÙŒÙ’ÙÙ“Û¡Ù”Ù°Ø’]/g, "").match(theRag, "i")[0] + "</font>");
                            aWords = mWords;
                        }
                    } else {
                        mMatch = "false";
                        break;
                    }
                }
                if (mMatch == "true") {
                    if (aWords.includes("&des")) {
                        aWords = "<span class='theQ'>" + aWords.replace(/&des/, "</span><br>");
                    } else if (aWords.includes("--2--")) {
                        aWords = "<span class='theQ'>" + aWords.replace("--2--", "</span><br>");
                    } else if (aWords.includes("ØªØ±Ø¬Ù…Û:")) {
                        aWords = "<span class='theQ'>" + aWords.replace("ØªØ±Ø¬Ù…Û:", "</span><br>");
                    }
                    cnt += 1;
                    $("#cnt")[0].innerHTML = "Total Result: " + cnt;
                    if (cnt % 101 == 0) {
                        theData += "[txtToSpan]<p dir='auto'>" + aWords + "</p>";
                    } else {
                        theData += `<p dir='auto' data-index='${wordIndex}'><span class='ayah-controls' style='float: left; margin-left: 10px;'><button class='prev-ayah' title='Ù¾Ú†Ú¾Ù„ÛŒ Ø¢ÛŒØª' style='background: #09ef09; border-radius: 5px; cursor: pointer; margin-right: 5px;'>Â«</button><button class='next-ayah' title='Ø§Ú¯Ù„ÛŒ Ø¢ÛŒØª' style='background: #09ef09; border-radius: 5px; cursor: pointer; margin-right: 5px;'>Â»</button><button class='read-here' title='ÛŒÛØ§Úº Ø³Û’ Ù¾Ú‘Ú¾ÛŒÚº' style='background: #ffeb3b; border-radius: 5px; cursor: pointer;'>ğŸ“–</button></span>${aWords}</p>`;
                    }
                }
            }
        }
        if (cnt <= 0) {
            document.getElementById("cnt").textContent = "Total Result: 0";
            document.getElementById("div").innerHTML = "";
            $("#div").html('<p style="text-align: center;">Ú©ÙˆØ¦ÛŒ Ù†ØªÛŒØ¬Û Ù†ÛÛŒÚº Ù…Ù„Ø§</p>');
        } else {
            theData = theData.replace("[txtToSpan]", "<span class='hidden'>").replace(/\[txtToSpan\]/g, "</span><span class='hidden'>");
            $("#div").html("").append(theData);
            if (cnt >= 101) {
                document.getElementById("div").innerHTML += '<div id="more" onclick="theFunc()" style="text-align: center;cursor: pointer;color: blue;text-decoration: underline;font-size: 21px;">Ù…Ø²ÛŒØ¯ Ø¯Ú©Ú¾Ø§ÛŒØ¦Û’</div>';
            }
            addAyahControls();
        }
        $("a").click(function (e) {
            e.preventDefault();
            var url = $(this).attr('href');
            if (/^https{0,1}:\/\/.*youtube.com/.test(url)) {
                popup("vid.html?video=" + $(this)[0].textContent + "&ytube=" + url);
            } else {
                popup(url);
            }
        });
        $("#txtR").prop("disabled", cnt <= 0).css("opacity", cnt <= 0 ? ".4" : "1");
    } catch (err) {
        console.log("Error: " + err.message);
        document.getElementById("cnt").textContent = "Total Result: 0";
        document.getElementById("div").innerHTML = "";
        $("#div").html('<p style="text-align: center;">Ú©ÙˆØ¦ÛŒ Ù†ØªÛŒØ¬Û Ù†ÛÛŒÚº Ù…Ù„Ø§</p>');
    }
}

function addAyahControls() {
    $(".prev-ayah").click(function () {
        const index = parseInt($(this).closest("p").attr("data-index"));
        if (index > 0) {
            currentAyahIndex = index - 1;
            displayAyah(currentAyahIndex);
        }
    });
    $(".next-ayah").click(function () {
        const index = parseInt($(this).closest("p").attr("data-index"));
        if (index < Words.length - 1) {
            currentAyahIndex = index + 1;
            displayAyah(currentAyahIndex);
        }
    });
    $(".read-here").click(function () {
        const index = parseInt($(this).closest("p").attr("data-index"));
        currentAyahIndex = index;
        isQuranMode = true;
        tempQuranPage = Math.floor(index / 20);
        loadQuranPage(tempQuranPage, true);
    });
}



function displayAyah(index) {
    if (index < 0 || index >= Words.length || !Words) return;
    let ayah = Words[index];
    if (ayah.includes("&des") || ayah.includes("--2--") || ayah.includes("ØªØ±Ø¬Ù…Û:")) {
        ayah = `<span class='theQ'>${ayah.replace(/&des|--2--|ØªØ±Ø¬Ù…Û:/, "</span><br>")}`;
    }
    document.getElementById("div").innerHTML = `<p dir='auto' data-index='${index}' style='background: #ffeb3b;'><span class='ayah-controls' style='float: left; margin-left: 10px;'><button class='prev-ayah' title='Ù¾Ú†Ú¾Ù„ÛŒ Ø¢ÛŒØª' style='background: #09ef09; border-radius: 5px; cursor: pointer; margin-right: 5px;'>Â«</button><button class='next-ayah' title='Ø§Ú¯Ù„ÛŒ Ø¢ÛŒØª' style='background: #09ef09; border-radius: 5px; cursor: pointer; margin-right: 5px;'>Â»</button><button class='read-here' title='ÛŒÛØ§Úº Ø³Û’ Ù¾Ú‘Ú¾ÛŒÚº' style='background: #ffeb3b; border-radius: 5px; cursor: pointer;'>ğŸ“–</button></span>${ayah}</p>`;
    document.getElementById("cnt").textContent = `Ayah ${index + 1} of ${Words.length}`;
    document.querySelector("#div p").scrollIntoView({ behavior: "smooth", block: "center" });
    addAyahControls();
}

function addQuranReader() {
    const readerBtn = document.createElement("div");
    readerBtn.innerHTML = `<button id='quranReader' title='Ù‚Ø±Ø¢Ù† Ù¾Ú‘Ú¾ÛŒÚº' style='position: fixed; top: 2px; right: 10px; background: #09ef09; border-radius: 50%; width: 50px; height: 50px; cursor: pointer; font-size: 24px; text-align: center; line-height: 50px; box-shadow: 2px 2px 5px rgba(0,0,0,0.3);'>ğŸ“š</button>`;
    document.body.appendChild(readerBtn);
    document.getElementById("quranReader").onclick = function () {
        isQuranMode = true;
        loadQuranPage(quranPage);
    };
}

function loadQuranPage(page, isTemp = false) {
    if (!location.href.includes("Quran") && !location.href.includes("quran")) {
        $(".some[data-load='quran.AM']").click();
    }
    localforage.getItem("Data").then(function (value) {
        let quranWords = value.includes("--1--") ? value.split("--1--") : value.split("\n");
        const ayahsPerPage = 20;
        const startIndex = page * ayahsPerPage;
        const endIndex = Math.min(startIndex + ayahsPerPage, quranWords.length);
        let theData = `<div style='text-align: center; margin: 20px;'><h2 style='font-family: Amiri, serif; font-size: 24px; color: #09ef09;'>Ù‚Ø±Ø¢Ù† Ú©Ø±ÛŒÙ…</h2></div>`;
        for (let i = startIndex; i < endIndex; i++) {
            let ayah = quranWords[i];
            if (ayah.includes("&des") || ayah.includes("--2--") || ayah.includes("ØªØ±Ø¬Ù…Û:")) {
                ayah = `<span class='theQ' style='font-family: Amiri, serif !important; font-size: 24px;'>${ayah.replace(/&des|--2--|ØªØ±Ø¬Ù…Û:/, "</span><br><span class='tarjuma' style='font-family: Noto Nastaliq Urdu, serif !important; font-size: 19px;'>")}</span>`;
            } else {
                ayah = `<span class='theQ' style='font-family: Amiri, serif !important; font-size: 24px;'>${ayah}</span>`;
            }
            theData += `<p dir='auto' style='background: #f0ececb3; padding: 15px; margin: 10px; border-radius: 10px; font-size: 20px; text-align: center; box-shadow: 0 2px 5px rgba(0,0,0,0.2);'>${ayah}</p>`;
        }
        theData += `<div style='text-align: center; margin: 20px;'>
            <button id='prevPage' style='background: #09ef09; border-radius: 5px; cursor: pointer; padding: 10px 20px; margin-right: 10px; ${page === 0 ? "display: none;" : ""}'>Ù¾Ú†Ú¾Ù„Ø§ ØµÙØ­Û</button>
            <button id='nextPage' style='background: #09ef09; border-radius: 5px; cursor: pointer; padding: 10px 20px; ${endIndex >= quranWords.length ? "display: none;" : ""}'>Ø§Ú¯Ù„Ø§ ØµÙØ­Û</button>
        </div>`;
        document.getElementById("div").innerHTML = theData;
        document.getElementById("cnt").textContent = `ØµÙØ­Û ${page + 1}`;
        document.getElementById("theInputs").style.display = "none";
        document.getElementById("srch").style.display = "none";
        document.querySelector("#div").scrollIntoView({ behavior: "smooth", block: "start" });
        document.getElementById("prevPage")?.addEventListener("click", () => {
            if (page > 0) {
                if (isTemp) {
                    tempQuranPage--;
                    loadQuranPage(tempQuranPage, true);
                } else {
                    quranPage--;
                    localStorage.setItem("quranPage", quranPage);
                    loadQuranPage(quranPage);
                }
            }
        });
        document.getElementById("nextPage")?.addEventListener("click", () => {
            if (endIndex < quranWords.length) {
                if (isTemp) {
                    tempQuranPage++;
                    loadQuranPage(tempQuranPage, true);
                } else {
                    quranPage++;
                    localStorage.setItem("quranPage", quranPage);
                    loadQuranPage(quranPage);
                }
            }
        });
    }).catch(function () {
        document.getElementById("div").innerHTML = "<p style='text-align: center;'>Ù‚Ø±Ø¢Ù† ÚˆÛŒÙ¹Ø§ Ù„ÙˆÚˆ Ú©Ø±Ù†Û’ Ù…ÛŒÚº Ù†Ø§Ú©Ø§Ù…ÛŒ</p>";
    });
}


function checka() {
    if ($("#cnt")[0].innerHTML != "") {
        var aa = parseInt($("#cnt")[0].innerHTML.substr(14));
        if (aa >= 800) {
            var pp = prompt("Ø±Ø²Ù„Ù¹ Ø¨ÛØª Ø²ÛŒØ§Ø¯Û ÛÛŒÚº Ø§Ø³Ù„Ø¦Û’ ÙÙ„Ù¹Ø± Ú©ÛŒÙ„Ø¦Û’ Ø§Ù„ÙØ§Ø¸ ÛÛŒØ§Úº Ù„Ú©Ú¾Û’");
            $("#txtR")[0].value = pp;
            rns3();
        }
    }
}

function searchTT() {
    console.log("Ø§Ù„Ù„Û Ø§Ú©Ø¨Ø± Ú©Ø¨ÛŒØ±Ø§");
    var ee = $("#txt")[0].value;
    if (localStorage.getItem("searchT")) {
        var aa = localStorage.getItem("searchT");
        if (ee != "") {
            if (!localStorage.getItem("searchT").includes(ee)) {
                var gg = aa + "|" + ee;
                localStorage.setItem("searchT", gg);
            }
        }
    } else {
        var ff = "Ø§Ù„Ù„Û Ø§Ú©Ø¨Ø±|Ù…Ø­Ù…Ø¯ Ø±Ø³ÙˆÙ„ Ø§Ù„Ù„Û|Ù†Ù…Ø§Ø² Ú©Ø³/Ú©ÛŒØ³/Ø·Ø±ÛŒÙ‚&Ø¬Ù…Ø¹ ÙØ±Û”Ø¶/ÙˆÙ‚'Øª/Ø´Ø±ØŒØ·/Ùˆ'Ø¬'Ø¨";
        localStorage.setItem("searchT", ff);
    }
    var tt = "", tt2 = "";
    var dd = localStorage.getItem("searchT").split("|");
    for (let i = 0; i < dd.length; i++) {
        tt += "<span id='hrf' oncontextmenu='excs(this);return false;' onclick='$(\"#txt\")[0].value = this.innerHTML;rns2();'>" + dd[i] + "</span>&nbsp;";
        tt2 += "<menuitem oncontextmenu='excs(this);return false;' onclick='$(\"#txt\")[0].value = this.innerHTML;rns2();'>" + dd[i] + "</menuitem>";
    }
    $(".searchTTE")[0].innerHTML = tt2;
    $("#searchT")[0].innerHTML = tt;
}

function rns3() {
    $("#div span[class='hidden']").attr("class", "show");
    if (document.getElementById("more") != null) {
        document.getElementById("more").style.display = "none";
    }
    $("br").remove();
    let inp = $("#txtR").val();
    if (inp == "") {
        $("p").css("display", "block");
    }
    if (inp.match(/(\S+)Ù“/) != null) {
        inp = inp.replaceAll("Ù“", "");
        inp = inp.split("").join().replace(/,/g, "'");
    }
    inp = inp.replace(/(\d)(\Û”)(\d*)/, ".{$1,$3}")
        .replaceAll("Û”", ".{0,}")
        .replaceAll("ØŒ", ".+")
        .replaceAll("'", ".?")
        .replaceAll("Ø", ".")
        .replace(/(\S+)Ø›/g, "($1){0,1}")
        .replaceAll("ØŸ", ".{0,2}");
    if (inp.includes("&")) {
        inp = inp.replaceAll("&", "||");
    }
    if (inp.includes(" ")) {
        if (inp.includes("||")) {
            let spl = inp.split("||");
            for (let i = 0; i < spl.length; i++) {
                let str1 = spl[i].split(/\s/).reverse().join(" ");
                inp = inp + "|" + str1;
            }
        } else {
            inp = inp + "|" + inp.split(/\s/).reverse().join(" ");
        }
    }
    inp = inp.replace(/Ø¤|Ùˆ/g, "(Ùˆ|Ø¤)")
        .replace(/Ùƒ|Ú©/g, "(Ùƒ|Ú©)")
        .replace(/Ø¢|Ø§|Ø£|Ø¥/g, "(Ø¢|Ø§|Ø£|Ø¥)")
        .replace(/Ù‰|ÛŒ|ÙŠ/g, "(Ù‰|ÛŒ|ÙŠ)")
        .replace(/Ù‡|Ú¾/g, "(Ù‡|Ú¾)")
        .replace(/Ø©|Ûƒ/g, "(Ø©|Ûƒ)")
        .replace(/[Ù‘ÙÙÙÙ‹ÙÙÙŒÙ’ÙÙ“Û¡Ù”Ù°Ø’]/g, "")
        .replace(" ", ".*");
    var reg = new RegExp(inp, "i");
    $('p').each(function () {
        if (reg.test($(this).text().replace(/[Ù‘ÙÙÙÙ‹ÙÙÙŒÙ’ÙÙ“Û¡Ù”Ù°Ø’]/g, ""))) {
            $(this).css("display", "block");
        } else {
            $(this).css("display", "none");
        }
    });
    var cnt = $("p[style*='display: block;']").length;
    $("#cnt")[0].innerHTML = "Total Result: " + cnt;
}

function rns2() {
    function isMatch(searchOnString, searchText) {
        searchText = searchText.replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&');
        return searchOnString.match(new RegExp("\\b" + searchText + "\\b", "i")) != null;
    }
    function datam() {
        let inp = $("#txt").val();
        if (inp.match(/(\S+)Ù“/) != null) {
            if (inp.match(/Ù“/g).length > 1) {
                inp = inp.split("").join("'").replaceAll("Ù“", "");
            } else {
                if (inp.includes("&")) {
                    inp = inp.replace("&", " & ");
                }
                var b = inp.match(/(\S+)Ù“/)[0];
                var c = inp.match(/(\S+)Ù“/)[1].split("").join("'");
                inp = inp.replace(b, c);
                inp = inp.replace(" & ", "&");
            }
        }
        inp = inp.replace(/\|/, "&")
            .replace(/(\d)\Û”(\d+)/g, ".{$1!$2}")
            .replaceAll("Û”", ".{0!}")
            .replaceAll("Ù­", "^")
            .replace(/(.):(.)/g, "@$1$2#")
            .replaceAll("ØŒ", ".+")
            .replaceAll("'", ".?")
            .replaceAll("Ù’", ".")
            .replaceAll("Ø", ".")
            .replace(/(\S+)Ø›/g, "($1){0!1}")
            .replaceAll("ØŸ", ".{0!2}");
			inp = inp.replace(/(\S+)\/(\S+)/g, "$1|$2");
			//alert(inp)
        if ($("#engsrch:checked").length == 0) {
            inp = inp.replace(/[a-zA-Z]+/g, "");
        }
        inp = inp.replaceAll("  ", " ").trim();
        $("#txtH").val(inp);
    }
    $("#txt")[0].value = $("#txt").val().replaceAll("&amp;", "&");
    let inp = $("#txt").val();
	
	
        if ($("#engsrch:checked").length == 0) {
            dt = "";
            $("#txtH").val(inp);
            dt = inp
                aa = a.split("|");
                for (i = 0; i < aa.length; i++) {
                    aaa = aa[i].split("-")
					var gla = new RegExp(aaa[0].replaceAll("/","\|"),'i')
					if(dt.match(gla)!=null){
							var mking = "\\b"+aaa[0].replaceAll("/","\|")+"\\b";
							var ala = new RegExp(mking,'i')
                            dt = dt.replace(ala,aaa[1])
                    }
                }
				inp = inp.replace(inp, dt)
                datam()
                rns();
        } else {
			datam()
			rns();
        };
    var aas = document.getElementsByClassName("chkbb");
    for (let i = 0; i < aas.length; i++) {
        if (aas[i].children[0].checked) {
            aas[i].style.background = "#0de90d";
        } else {
            aas[i].style.background = "#e6dddd";
        }
    }
}

function popup(url) {
    var width = screen.width / 1.2;
    var height = screen.width / 1.5;
    var left = (screen.width - width) / 2;
    var top = (screen.height - height) / 2;
    var params = 'width=' + width + ', height=' + height + ', top=' + top + ', left=' + left +
        ', directories=no, location=no, menubar=no, resizable=no, scrollbars=yes, status=no, toolbar=no';
    var newwin = window.open(url, 'Allaahh ho akbar', params);
    if (window.focus) {
        newwin.focus();
    }
    return false;
}

String.prototype.replaceAll = function (search, replacement) {
    var target = this;
    return target.replace(new RegExp(search, 'g'), replacement);
};

String.prototype.replaceIt = function (theString) {
    var aa = this;
    var theString = theString.replaceAll("-", "|")
        .replaceAll(" ", ".{0!}")
        .replaceAll("\"", ".{0!}")
        .replaceAll("Ù€", ".{0!}");
    return aa.replaceAll(theString, "(" + theString + ")");
};

if (!String.prototype.replaceLast) {
    String.prototype.replaceLast = function (find, replace) {
        var index = this.lastIndexOf(find);
        if (index >= 0) {
            return this.substring(0, index) + replace + this.substring(index + find.length);
        }
        return this.toString();
    };
}

function clr() {
    $("#dpsrch").prop("checked", false);
    rns2();
}

function rns() {
    if ($("#dpsrch:checked").length > 0) {
        $("#engsrch").prop("checked", false);
    }
    if ($("#engsrch:checked").length > 0) {
        $("#dpsrch").prop("checked", false);
    }
    let inp = $("#txtH").val();
    inp = inp.replaceIt("Ø§Ù„Ù„Û-Ù„Ù„Ù‘ÙÙ‡-Ø§Ù„Ù„Ù‡-Ù„ÙÙ„Ù‘ÙÙ‡-Ù„Ù„Û-Ø§Ù„Ù„Ù‘ÙÙ‡Ù-Ù„ÙÙ„Ù‘ÙÙ‡Ù-Ù„ÙÙ„Ù‘ÙÙ‡Ù");
    if (inp.match(/\s/g) != null && inp.match(/&/g) == null && $("#od:checked").length > 0) {
        if (inp.match(/\s/g).length >= 2) {
            function *permute(a, n = a.length) {
                if (n <= 1) yield a.slice();
                else for (let i = 0; i < n; i++) {
                    yield *permute(a, n - 1);
                    const j = n % 2 ? 0 : i;
                    [a[n - 1], a[j]] = [a[j], a[n - 1]];
                }
            }
            inp = Array.from(permute(inp.split(' '))).map(perm => perm.join(' ')).toString().replace(/,/g, "%").trim();
        } else if (inp.match(/\s/g).length > 150) {
            var a = inp.replace(/(\S+)\s/g, "(?=.*$1)");
            a = a.replaceLast(")", ") ");
            inp = a;
        }
    }
    if (inp.includes("&")) {
        var dta = inp.split("&");
        var dta2 = "";
        for (let i = 0; i < dta.length; i++) {
            if (dta[i].includes("/")) {
                dta2 += dta[i].replaceAll(/(\S+)\/(\S+)/gi, "($1|$2)") + "]]";
            } else {
                dta2 += dta[i] + "]]";
            }
        }
        dta2 = dta2.replace("]]", "]] ").split(' ').reverse().join(' ').replace(/]]/, '').split(' ').reverse().join(' ').replace("]] ", "]]").replaceAll("]]", "&");
        inp = dta2.replaceAll("/", "|");
    } else {
        var dta = inp;
        var dta2 = dta.replaceAll("%", " % ").replaceAll(/(\S+)\/(\S+)/gi, "($1|$2)") + "]]";
        dta2 = dta2.split(' ').reverse().join(' ').replace(/]]/, '').split(' ').reverse().join(' ').replaceAll("]]", "&").replaceAll(" % ", "%");
        inp = dta2.replaceAll("/", "|");
    }
    inp = inp.replaceAll("\"", ".{0,}");
    if (inp == "") {
        $("#div").html("");
        $("#cnt")[0].innerHTML = "Total Result: " + 0;
        $("#txtR").prop("disabled", true).css("opacity", ".4");
    } else {
        $("#div").html('<p style="text-align: center;font-size: 170% !important;">ØªÙ„Ø§Ø´ ÛÙˆØ±ÛÛŒ ÛÛŒÚº</p>');
        if (inp.match(/\s/g) == null) {
        } else {
            if (($("#od:checked").length > 0 && inp.match(/\s/g).length < 2) || inp.match(/\|\|/g) != null) {
                if (inp.includes(" ")) {
                    if (inp.includes("||")) {
                        let spl = inp.split("||");
                        for (let i = 0; i < spl.length; i++) {
                            let str1 = spl[i].split(/\s/).reverse().join(" ");
                            inp = inp + "|" + str1;
                        }
                    } else {
                        inp = inp + "|" + inp.split(/\s/).reverse().join(" ");
                    }
                }
            }
        }
        inp = inp.replace(/\|\|/g, "|").replaceAll(" ", ".*");
        console.log("Ø§Ù„Ù„Û Ø§Ú©Ø¨Ø± Ú©Ø¨ÛŒØ±Ø§");
        if ($("#dpsrch:checked").length != 0) {
            // synonoms() assumed to exist in eng_ur_db.js or fatawa.js
            inp = inp.trim();
            clmm();
        } else if ($("#engsrch:checked").length == 0) {
            clmm();
        } else {
            inp = inp.trim();
            clmm();
        }
    }
}

function firstME() {
    if (!window.navigator.userAgent.match(/firefox/i)) {
        document.getElementById("mymenu").style.display = "none";
        document.getElementById("searchT").style.display = "block";
    }
    if (location.href.includes("Quran") || location.href.includes("quran")) {
        document.getElementById("dpsrch").checked = false;
    } else if (location.href.includes("Lughat")) {
        document.getElementById("dpsrch").checked = false;
        document.getElementById("engsrch").checked = "checked";
        document.getElementsByTagName("style")[0].innerHTML += "p{font-family:'inherit !important';padding-top:3px;padding-bottom:2px;}";
    } else if (location.href.includes("Hadith") || location.href.includes("hadith")) {
        document.getElementsByTagName("style")[0].innerHTML += "p{font-size:19px !important;word-spacing:2px !important;}.theQ{font-family:'Amiri',serif !important;font-size:24px !important;}.tarjuma{font-family:'Noto Nastaliq Urdu',serif !important;font-size:19px !important;}";
        document.getElementById("dpsrch").checked = false;
    }
    document.getElementsByClassName("chkbb")[0].onclick = function () {
        document.getElementsByClassName("chkbb")[0].children[0].click();
    };
    document.getElementsByClassName("chkbb")[1].onclick = function () {
        document.getElementsByClassName("chkbb")[1].children[0].click();
    };
    document.getElementsByClassName("chkbb")[2].onclick = function () {
        document.getElementsByClassName("chkbb")[2].children[0].click();
    };
    document.getElementsByClassName("chkbb")[3].onclick = function () {
        document.getElementsByClassName("chkbb")[3].children[0].click();
    };
    document.getElementsByClassName("chkbb")[4].onclick = function () {
        document.getElementsByClassName("chkbb")[4].style.background = "rgb(13, 233, 13)";
        document.getElementsByClassName("chkbb")[4].children[0].click();
    };
    addQuranReader();
    
    // Add Amiri font stylesheet
    const quranFontUrl = "https://fonts.googleapis.com/css2?family=Amiri&display=swap";
    const quranLink = document.createElement("link");
    quranLink.rel = "stylesheet";
    quranLink.href = quranFontUrl;
    document.head.appendChild(quranLink);
}

const fontUrl = "https://fonts.googleapis.com/css2?family=Noto+Nastaliq+Urdu&display=swap";
const link = document.createElement("link");
link.rel = "stylesheet";
link.href = fontUrl;
document.head.appendChild(link);

const style = document.createElement("style");
style.innerHTML = `* { font-family: 'Noto Nastaliq Urdu', serif !important; }`;
document.head.appendChild(style);

</script>
<script>

setTimeout(function() {
    var clicked = false;
    function applyStyle() {
        var style = document.createElement('style');
        style.textContent = `.theQ { margin-top: -16px !important; }`;
        document.head.appendChild(style);
    }

    // Handle the click event for both .read-here and #quranReader
    document.body.addEventListener('click', function(e) {
        if (e.target.matches('.read-here')) {
            applyStyle();
        } else if (e.target.id === 'quranReader') {
            if (clicked) {
                location.reload();
            } else {
                applyStyle();
                clicked = true;
            }
        }
    });
}, 500);


</script>